<mat-accordion>
  <mat-expansion-panel #selectionPanel>
      <mat-expansion-panel-header>
          <mat-panel-title>{{addonslabel}}</mat-panel-title>
      </mat-expansion-panel-header>
      <div class="accordion" id="accordionExample" *ngFor="let item of data,let i=index">
          <div class="accordion-item">
              <h2 class="accordion-header mb-0">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" [attr.data-bs-target]="'#collapse'+i" aria-expanded="false" [attr.aria-controls]="'collapse'+i">
                      <div class="form-check">
                          <input class="form-check-input" type="checkbox" value="" id="chk{{i}}" [checked]="item.selected==1" >
                          <label class="form-check-label" for="chk{{i}}">{{item.text}}</label>
                      </div>
                  </button>
              </h2>
              <div id="collapse{{i}}" class="accordion-collapse collapse" [attr.aria-labelledby]="'heading'+i" data-bs-parent="#accordionExample">
                  <div class="accordion-body">
                      <div class="row ">
                          <div class="col">
                            <label class="col-form-label">Rate</label>
                          </div>
                          <div class="col text-end">
                              <label class="col-form-label" id="lblrate{{i}}">{{item.amount}}</label>
                          </div>
                        </div>
                        <div class="row mb-1">
                          <div class="col">
                            <label class="col-form-label">Discount</label>
                          </div>
                          <div class="col">
                              <input type="text" class="form-control text-end" [value]="0" (change)="onValueChange($event,i,item)" id="discountvalue{{i}}"/>
                              <span class="invalid-feedback">Max Discount Allowed {{item.maxdiscount}}</span>
                          </div>
                        </div>
                        <div class="row mb-1">
                          <div class="col">
                            <label class="col-form-label">Net Amount</label>
                          </div>
                          <div class="col">
                              <input type="text" class="form-control text-end" [value]="item.netamount" id="netamount{{i}}" readonly>
                          </div>
                        </div>
                  </div>
            </div>
          </div>
      </div>
      <mat-action-row>
        <button mat-button color="primary" (click)="onSelected(selectionPanel);">Choose Selected</button>
      </mat-action-row>
  </mat-expansion-panel>
</mat-accordion>